/// <reference types="./mod.d.ts" />
var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var r=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")}();var t=function(){return r&&"symbol"==typeof Symbol.toStringTag},n=Object.prototype.toString,a=n;var i=function(e){return a.call(e)},o=Object.prototype.hasOwnProperty;var u=function(e,r){return null!=e&&o.call(e,r)},l="function"==typeof Symbol?Symbol.toStringTag:"",f=u,c=l,s=n;var b=i,m=function(e){var r,t,n;if(null==e)return s.call(e);t=e[c],r=f(e,c);try{e[c]=void 0}catch(r){return s.call(e)}return n=s.call(e),r?e[c]=t:delete e[c],n},h=t()?m:b,y="function"==typeof Object.defineProperty?Object.defineProperty:null;var g=function(){try{return y({},"x",{}),!0}catch(e){return!1}},v=Object.defineProperty,p=Object.prototype,w=p.toString,d=p.__defineGetter__,E=p.__defineSetter__,_=p.__lookupGetter__,T=p.__lookupSetter__;var j=function(e,r,t){var n,a,i,o;if("object"!=typeof e||null===e||"[object Array]"===w.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof t||null===t||"[object Array]"===w.call(t))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+t+"`.");if((a="value"in t)&&(_.call(e,r)||T.call(e,r)?(n=e.__proto__,e.__proto__=p,delete e[r],e[r]=t.value,e.__proto__=n):e[r]=t.value),i="get"in t,o="set"in t,a&&(i||o))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return i&&d&&d.call(e,r,t.get),o&&E&&E.call(e,r,t.set),e},A=v,x=j,k=g()?A:x,V=k;var O=function(e,r,t){V(e,r,{configurable:!1,enumerable:!1,writable:!1,value:t})},L=O;var B=function(){return/^\s*function\s*([^(]*)/i},R=B;L(R,"REGEXP",B());var S=R,P=h;var F=Array.isArray?Array.isArray:function(e){return"[object Array]"===P(e)},M=F;var N=function(e){return null!==e&&"object"==typeof e};L(N,"isObjectLikeArray",function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(r){var t,n;if(!M(r))return!1;if(0===(t=r.length))return!1;for(n=0;n<t;n++)if(!1===e(r[n]))return!1;return!0}}(N));var C=N;var I=h,Y=S.REGEXP,G=function(e){return C(e)&&(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))};var W=function(e){var r,t,n;if(("Object"===(t=I(e).slice(8,-1))||"Error"===t)&&e.constructor){if("string"==typeof(n=e.constructor).name)return n.name;if(r=Y.exec(n.toString()))return r[1]}return G(e)?"Buffer":t},J=W,X=/./;var U=function(e){return"boolean"==typeof e},q=Boolean.prototype.toString;var z=h,D=function(e){try{return q.call(e),!0}catch(e){return!1}},H=t();var K=function(e){return"object"==typeof e&&(e instanceof Boolean||(H?D(e):"[object Boolean]"===z(e)))},Q=U,Z=K;var $=L,ee=function(e){return Q(e)||Z(e)},re=K;$(ee,"isPrimitive",U),$(ee,"isObject",re);var te="object"==typeof self?self:null,ne="object"==typeof window?window:null,ae=ee.isPrimitive,ie=function(){return new Function("return this;")()},oe=te,ue=ne,le="object"==typeof e?e:null;var fe=function(e){if(arguments.length){if(!ae(e))throw new TypeError("invalid argument. Must provide a boolean primitive. Value: `"+e+"`.");if(e)return ie()}if(oe)return oe;if(ue)return ue;if(le)return le;throw new Error("unexpected error. Unable to resolve global object.")},ce=fe(),se=ce.document&&ce.document.childNodes,be=Int8Array,me=X,he=se,ye=be;var ge=J;var ve=J;var pe=function(e){var r;return null===e?"null":"object"===(r=typeof e)?ge(e).toLowerCase():r},we=function(e){return ve(e).toLowerCase()},de=function(){return"function"==typeof me||"object"==typeof ye||"function"==typeof he}()?we:pe;var Ee=function(e){return"function"===de(e)},_e=Object.getPrototypeOf;var Te=function(e){return e.__proto__},je=h,Ae=Te;var xe=function(e){var r=Ae(e);return r||null===r?r:"[object Function]"===je(e.constructor)?e.constructor.prototype:e instanceof Object?Object.prototype:null},ke=_e,Ve=xe,Oe=Ee(Object.getPrototypeOf)?ke:Ve;var Le=function(e){return null==e?null:(e=Object(e),Oe(e))};var Be=function(e){return"number"==typeof e},Re=Number,Se=Re.prototype.toString;var Pe=h,Fe=Re,Me=function(e){try{return Se.call(e),!0}catch(e){return!1}},Ne=t();var Ce=function(e){return"object"==typeof e&&(e instanceof Fe||(Ne?Me(e):"[object Number]"===Pe(e)))},Ie=Be,Ye=Ce;var Ge=L,We=function(e){return Ie(e)||Ye(e)},Je=Ce;Ge(We,"isPrimitive",Be),Ge(We,"isObject",Je);var Xe=We,Ue=Number.POSITIVE_INFINITY,qe=Re.NEGATIVE_INFINITY,ze=Math.floor;var De=function(e){return ze(e)===e},He=Ue,Ke=qe,Qe=De;var Ze=function(e){return e<He&&e>Ke&&Qe(e)},$e=Xe.isPrimitive,er=Ze;var rr=function(e){return $e(e)&&er(e)},tr=Xe.isObject,nr=Ze;var ar=function(e){return tr(e)&&nr(e.valueOf())},ir=rr,or=ar;var ur=L,lr=function(e){return ir(e)||or(e)},fr=ar;ur(lr,"isPrimitive",rr),ur(lr,"isObject",fr);var cr=lr.isPrimitive;var sr=function(e){return cr(e)&&e>=0},br=lr.isObject;var mr=function(e){return br(e)&&e.valueOf()>=0},hr=sr,yr=mr;var gr=L,vr=function(e){return hr(e)||yr(e)},pr=mr;gr(vr,"isPrimitive",sr),gr(vr,"isObject",pr);var wr=vr,dr=De;var Er=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&dr(e.length)&&e.length>=0&&e.length<=4294967295},_r=De;var Tr=function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&_r(e.length)&&e.length>=0&&e.length<=9007199254740991},jr=h,Ar="function"==typeof ArrayBuffer;var xr=function(e){return Ar&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===jr(e)},kr=F;var Vr=function(e){return"object"==typeof e&&null!==e&&!kr(e)};var Or=Xe.isPrimitive,Lr=k,Br=L,Rr=function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"},Sr=function(){var e={type:"Complex128"};return e.re=this.re,e.im=this.im,e};function Pr(e,r){if(!(this instanceof Pr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Or(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!Or(r))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+r+"`.");return Lr(this,"re",{configurable:!1,enumerable:!0,writable:!1,value:e}),Lr(this,"im",{configurable:!1,enumerable:!0,writable:!1,value:r}),this}Br(Pr,"BYTES_PER_ELEMENT",8),Br(Pr.prototype,"BYTES_PER_ELEMENT",8),Br(Pr.prototype,"byteLength",16),Br(Pr.prototype,"toString",Rr),Br(Pr.prototype,"toJSON",Sr);var Fr=Pr,Mr=h,Nr="function"==typeof Float32Array;var Cr="function"==typeof Float32Array?Float32Array:null,Ir=function(e){return Nr&&e instanceof Float32Array||"[object Float32Array]"===Mr(e)},Yr=Ue,Gr=Cr;var Wr="function"==typeof Float32Array?Float32Array:void 0,Jr=function(){throw new Error("not implemented")},Xr=function(){var e,r;if("function"!=typeof Gr)return!1;try{r=new Gr([1,3.14,-3.14,5e40]),e=Ir(r)&&1===r[0]&&3.140000104904175===r[1]&&-3.140000104904175===r[2]&&r[3]===Yr}catch(r){e=!1}return e}()?Wr:Jr;var Ur=Xe.isPrimitive,qr=k,zr=L,Dr=Xr,Hr=function(){var e=""+this.re;return this.im<0?e+=" - "+-this.im:e+=" + "+this.im,e+="i"},Kr=function(){var e={type:"Complex64"};return e.re=this.re,e.im=this.im,e};function Qr(e,r){var t;if(!(this instanceof Qr))throw new TypeError("invalid invocation. Constructor must be called with the `new` keyword.");if(!Ur(e))throw new TypeError("invalid argument. Real component must be a number primitive. Value: `"+e+"`.");if(!Ur(r))throw new TypeError("invalid argument. Imaginary component must be a number primitive. Value: `"+r+"`.");return qr(this,"re",{configurable:!1,enumerable:!0,get:function(){return t[0]}}),qr(this,"im",{configurable:!1,enumerable:!0,get:function(){return t[1]}}),(t=new Dr(2))[0]=e,t[1]=r,this}zr(Qr,"BYTES_PER_ELEMENT",4),zr(Qr.prototype,"BYTES_PER_ELEMENT",4),zr(Qr.prototype,"byteLength",8),zr(Qr.prototype,"toString",Hr),zr(Qr.prototype,"toJSON",Kr);var Zr=Qr,$r=Fr,et=Zr;var rt=function(e){return e instanceof $r||e instanceof et||"object"==typeof e&&null!==e&&"number"==typeof e.re&&"number"==typeof e.im},tt=De;var nt=function(e){return tt(e/2)},at=u;var it=function(){return"function"==typeof Symbol&&"symbol"==typeof Symbol("foo")&&at(Symbol,"iterator")&&"symbol"==typeof Symbol.iterator},ot=it()?Symbol.iterator:null;var ut=function(e){return e.re};var lt=function(e){return e.im},ft=Er,ct=rt,st=ut,bt=lt;var mt=Er,ht=rt,yt=ut,gt=lt;var vt=rt,pt=ut,wt=lt;var dt=wr.isPrimitive,Et=Er,_t=Tr,Tt=xr,jt=Vr,At=F,xt=Ee,kt=rt,Vt=nt,Ot=De,Lt=it,Bt=ot,Rt=k,St=Xr,Pt=Zr,Ft=ut,Mt=lt,Nt=function(e){var r,t,n;for(r=[];;){if(n=(t=e.next()).value)if(ft(n)&&n.length>=2)r.push(n[0],n[1]);else{if(!ct(n))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+n+"`.");r.push(st(n),bt(n))}if(t.done)break}return r},Ct=function(e,r,t){var n,a,i,o;for(n=[],o=-1;;){if(o+=1,i=(a=e.next()).value)if(i=r.call(t,i,o),mt(i)&&i.length>=2)n.push(i[0],i[1]);else{if(!ht(i))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+i+"`.");n.push(yt(i),gt(i))}if(a.done)break}return n},It=function(e,r){var t,n,a,i;for(t=r.length,i=0,a=0;a<t;a++){if(n=r[a],!vt(n))return null;e[i]=pt(n),e[i+1]=wt(n),i+=2}return e},Yt=2*St.BYTES_PER_ELEMENT,Gt=Lt();function Wt(e){return e instanceof Xt||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Jt(e){return e===Xt||"Complex128Array"===e.name}function Xt(){var e,r,t,n;if(r=arguments.length,!(this instanceof Xt))return 0===r?new Xt:1===r?new Xt(arguments[0]):2===r?new Xt(arguments[0],arguments[1]):new Xt(arguments[0],arguments[1],arguments[2]);if(0===r)t=new St(0);else if(1===r)if(dt(arguments[0]))t=new St(2*arguments[0]);else if(_t(arguments[0]))if((n=(t=arguments[0]).length)&&At(t)&&kt(t[0])){if(null===(t=It(new St(2*n),t))){if(!Vt(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new St(arguments[0])}}else{if(!Vt(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new St(t)}else if(Tt(arguments[0])){if(!Ot((t=arguments[0]).byteLength/Yt))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Yt+". Byte length: `"+t.byteLength+"`.");t=new St(t)}else{if(!jt(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(t=arguments[0],!1===Gt)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+t+"`.");if(!xt(t[Bt]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+t+"`.");if(t=t[Bt](),!xt(t.next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((t=Nt(t))instanceof Error)throw t;t=new St(t)}else{if(!Tt(t=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+t+"`.");if(!dt(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!Ot(e/Yt))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Yt+". Value: `"+e+"`.");if(2===r){if(n=t.byteLength-e,!Ot(n/Yt))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Yt+". View byte length: `"+n+"`.");t=new St(t,e)}else{if(!dt(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Yt>t.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Yt+"`.");t=new St(t,e,2*n)}}return Rt(this,"_buffer",{configurable:!1,enumerable:!1,writable:!1,value:t}),Rt(this,"_length",{configurable:!1,enumerable:!1,writable:!1,value:t.length/2}),this}Rt(Xt,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Yt}),Rt(Xt,"name",{configurable:!1,enumerable:!1,writable:!1,value:"Complex64Array"}),Rt(Xt,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f,c,s;if(!xt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Jt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!xt(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");t>2&&(r=arguments[2])}if(_t(e))if(n){for(u=e.length,c=0;c<u;c++)if(!kt(e[c])){l=!0;break}if(l){if(!Vt(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(i=(a=new this(u/2))._buffer,c=0;c<u;c++)i[c]=n.call(r,e[c],c)}else for(i=(a=new this(u))._buffer,s=0,c=0;c<u;c++){if(f=n.call(r,e[c],c),kt(f))i[s]=Ft(f),i[s+1]=Mt(f);else{if(!(Et(f)&&f.length>=2))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");i[s]=f[0],i[s+1]=f[1]}s+=2}}else a=new this(e);else{if(!(jt(e)&&Gt&&xt(e[Bt])))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.");if(i=e[Bt](),!xt(i.next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((o=n?Ct(i,n,r):Nt(i))instanceof Error)throw o;for(i=(a=new this(u=o.length/2))._buffer,c=0;c<u;c++)i[c]=o[c]}return a}}),Rt(Xt,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r;if(!xt(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Jt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)}}),Rt(Xt.prototype,"buffer",{configurable:!1,enumerable:!1,get:function(){return this._buffer.buffer}}),Rt(Xt.prototype,"byteLength",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteLength}}),Rt(Xt.prototype,"byteOffset",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteOffset}}),Rt(Xt.prototype,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Xt.BYTES_PER_ELEMENT}),Rt(Xt.prototype,"copyWithin",{configurable:!1,enumerable:!1,writable:!1,value:function(e,r){if(!Wt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return 2===arguments.length?this._buffer.copyWithin(2*e,2*r):this._buffer.copyWithin(2*e,2*r,2*arguments[2]),this}}),Rt(Xt.prototype,"entries",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r,t,n,a,i,o;if(!Wt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");return r=this,e=this._buffer,n=this._length,i=-1,o=-2,Rt(t={},"next",{configurable:!1,enumerable:!1,writable:!1,value:function(){var r;if(i+=1,a||i>=n)return{done:!0};return r=new Pt(e[o+=2],e[o+1]),{value:[i,r],done:!1}}}),Rt(t,"return",{configurable:!1,enumerable:!1,writable:!1,value:function(e){if(a=!0,arguments.length)return{value:e,done:!0};return{done:!0}}}),Bt&&Rt(t,Bt,{configurable:!1,enumerable:!1,writable:!1,value:function(){return r.entries()}}),t}}),Rt(Xt.prototype,"get",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n;if(!Wt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(r=arguments[1],!Et(t=e)||t.length<2)throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+t+"`.")}else r=e;if(!dt(r))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.");if(!(r>=this._length))return r*=2,t?(t[0]=n[r],t[1]=n[r+1],t):new Pt(n[r],n[r+1])}}),Rt(Xt.prototype,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),Rt(Xt.prototype,"set",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f;if(!Wt(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!dt(t=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+t+"`.")}else t=0;if(kt(e)){if(t>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+t+"`.");return n[t*=2]=Ft(e),void(n[t+1]=Mt(e))}if(Wt(e)){if(t+(o=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e._buffer,f=n.byteOffset+t*Yt,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new St(r.length),l=0;l<r.length;l++)a[l]=r[l];r=a}for(t*=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2}else{if(!_t(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(o=e.length,l=0;l<o;l++)if(!kt(e[l])){i=!0;break}if(i){if(!Vt(o))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+o+"`.");if(t+o/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e,f=n.byteOffset+t*Yt,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new St(o),l=0;l<o;l++)a[l]=r[l];r=a}for(t*=2,o/=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2;return}if(t+o>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,l=0;l<o;l++)u=e[l],n[t]=Ft(u),n[t+1]=Mt(u),t+=2}}});var Ut=Xt,qt=h,zt="function"==typeof Float64Array;var Dt="function"==typeof Float64Array?Float64Array:null,Ht=function(e){return zt&&e instanceof Float64Array||"[object Float64Array]"===qt(e)},Kt=Dt;var Qt,Zt="function"==typeof Float64Array?Float64Array:void 0,$t=function(){throw new Error("not implemented")};Qt=function(){var e,r;if("function"!=typeof Kt)return!1;try{r=new Kt([1,3.14,-3.14,NaN]),e=Ht(r)&&1===r[0]&&3.14===r[1]&&-3.14===r[2]&&r[3]!=r[3]}catch(r){e=!1}return e}()?Zt:$t;var en=Er,rn=rt,tn=ut,nn=lt;var an=Er,on=rt,un=ut,ln=lt;var fn=rt,cn=ut,sn=lt;var bn=wr.isPrimitive,mn=Er,hn=Tr,yn=xr,gn=Vr,vn=F,pn=Ee,wn=rt,dn=nt,En=De,_n=it,Tn=ot,jn=k,An=Qt,xn=Fr,kn=ut,Vn=lt,On=function(e){var r,t;for(r=[];;){if((t=e.next()).value)if(en(t.value))r.push(t.value[0],t.value[1]);else{if(!rn(t.value))return new TypeError("invalid argument. An iterator must return either a two-element array containing real and imaginary components or a complex number. Value: `"+t.value+"`.");r.push(tn(t.value),nn(t.value))}if(t.done)break}return r},Ln=function(e,r,t){var n,a,i;for(n=[],i=0;;){if(i+=1,(a=e.next()).value)if(a=r.call(t,a.value,i),an(a))n.push(a[0],a[1]);else{if(!on(a))return new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+a+"`.");n.push(un(a),ln(a))}if(a.done)break}return n},Bn=function(e,r){var t,n,a,i;for(t=r.length,i=0,a=0;a<t;a++){if(n=r[a],!fn(n))return null;e[i]=cn(n),e[i+1]=sn(n),i+=2}return e},Rn=2*An.BYTES_PER_ELEMENT,Sn=_n();function Pn(e){return e instanceof Mn||"object"==typeof e&&null!==e&&("Complex64Array"===e.constructor.name||"Complex128Array"===e.constructor.name)&&"number"==typeof e._length&&"object"==typeof e._buffer}function Fn(e){return e===Mn||"Complex64Array"===e.name}function Mn(){var e,r,t,n;if(r=arguments.length,!(this instanceof Mn))return 0===r?new Mn:1===r?new Mn(arguments[0]):2===r?new Mn(arguments[0],arguments[1]):new Mn(arguments[0],arguments[1],arguments[2]);if(0===r)t=new An(0);else if(1===r)if(bn(arguments[0]))t=new An(2*arguments[0]);else if(hn(arguments[0]))if((n=(t=arguments[0]).length)&&vn(t)&&wn(t[0])){if(null===(t=Bn(new An(2*n),t))){if(!dn(n))throw new RangeError("invalid argument. Array-like object input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new An(arguments[0])}}else{if(!dn(n))throw new RangeError("invalid argument. Array-like object and typed array input arguments must have a length which is a multiple of two. Length: `"+n+"`.");t=new An(t)}else if(yn(arguments[0])){if(!En((t=arguments[0]).byteLength/Rn))throw new RangeError("invalid argument. ArrayBuffer byte length must be a multiple of "+Rn+". Byte length: `"+t.byteLength+"`.");t=new An(t)}else{if(!gn(arguments[0]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+arguments[0]+"`.");if(t=arguments[0],!1===Sn)throw new TypeError("invalid argument. Environment lacks Symbol.iterator support. Must provide a length, ArrayBuffer, typed array, or array-like object. Value: `"+t+"`.");if(!pn(t[Tn]))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable. Value: `"+t+"`.");if(t=t[Tn](),!pn(t.next))throw new TypeError("invalid argument. Must provide a length, ArrayBuffer, typed array, array-like object, or an iterable.");if((t=On(t))instanceof Error)throw t;t=new An(t)}else{if(!yn(t=arguments[0]))throw new TypeError("invalid argument. First argument must be an array buffer. Value: `"+t+"`.");if(!bn(e=arguments[1]))throw new TypeError("invalid argument. Byte offset must be a nonnegative integer. Value: `"+e+"`.");if(!En(e/Rn))throw new RangeError("invalid argument. Byte offset must be a multiple of "+Rn+". Value: `"+e+"`.");if(2===r){if(n=t.byteLength-e,!En(n/Rn))throw new RangeError("invalid arguments. ArrayBuffer view byte length must be a multiple of "+Rn+". View byte length: `"+n+"`.");t=new An(t,e)}else{if(!bn(n=arguments[2]))throw new TypeError("invalid argument. Length must be a nonnegative integer. Value: `"+n+"`.");if(n*Rn>t.byteLength-e)throw new RangeError("invalid arguments. ArrayBuffer has insufficient capacity. Either decrease the array length or provide a bigger buffer. Minimum capacity: `"+n*Rn+"`.");t=new An(t,e,2*n)}}return jn(this,"_buffer",{configurable:!1,enumerable:!1,writable:!1,value:t}),jn(this,"_length",{configurable:!1,enumerable:!1,writable:!1,value:t.length/2}),this}jn(Mn,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Rn}),jn(Mn,"name",{configurable:!1,enumerable:!1,writable:!1,value:"Complex128Array"}),jn(Mn,"from",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f,c,s;if(!pn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Fn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if((t=arguments.length)>1){if(!pn(n=arguments[1]))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+n+"`.");t>2&&(r=arguments[2])}if(hn(e))if(n){for(u=e.length,c=0;c<u;c++)if(!wn(e[c])){l=!0;break}if(l){if(!dn(u))throw new RangeError("invalid argument. First argument must have a length which is a multiple of two. Length: `"+u+"`.");for(i=(a=new this(u/2))._buffer,c=0;c<u;c++)i[c]=n.call(r,e[c],c)}else for(i=(a=new this(u))._buffer,s=0,c=0;c<u;c++){if(f=n.call(r,e[c],c),wn(f))i[s]=kn(f),i[s+1]=Vn(f);else{if(!mn(f))throw new TypeError("invalid argument. Callback must return either a two-element array containing real and imaginary components or a complex number. Value: `"+f+"`.");i[s]=f[0],i[s+1]=f[1]}s+=2}}else a=new this(e);else{if(!(gn(e)&&Sn&&pn(e[Tn])))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable. Value: `"+e+"`.");if(i=e[Tn](),!pn(i.next))throw new TypeError("invalid argument. First argument must be an array-like object or an iterable.");if((o=n?Ln(i,n,r):On(i))instanceof Error)throw o;for(i=(a=new this(u=o.length/2))._buffer,c=0;c<u;c++)i[c]=o[c]}return a}}),jn(Mn,"of",{configurable:!1,enumerable:!1,writable:!1,value:function(){var e,r;if(!pn(this))throw new TypeError("invalid invocation. `this` context must be a constructor.");if(!Fn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);return new this(e)}}),jn(Mn.prototype,"buffer",{configurable:!1,enumerable:!1,get:function(){return this._buffer.buffer}}),jn(Mn.prototype,"byteLength",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteLength}}),jn(Mn.prototype,"byteOffset",{configurable:!1,enumerable:!1,get:function(){return this._buffer.byteOffset}}),jn(Mn.prototype,"BYTES_PER_ELEMENT",{configurable:!1,enumerable:!1,writable:!1,value:Mn.BYTES_PER_ELEMENT}),jn(Mn.prototype,"get",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n;if(!Pn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(r=arguments[1],!mn(t=e)||t.length<2)throw new TypeError("invalid argument. Output argument must be an array-like object. Value: `"+t+"`.")}else r=e;if(!bn(r))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+r+"`.");if(!(r>=this._length))return r*=2,t?(t[0]=n[r],t[1]=n[r+1],t):new xn(n[r],n[r+1])}}),jn(Mn.prototype,"length",{configurable:!1,enumerable:!1,get:function(){return this._length}}),jn(Mn.prototype,"set",{configurable:!1,enumerable:!1,writable:!1,value:function(e){var r,t,n,a,i,o,u,l,f;if(!Pn(this))throw new TypeError("invalid invocation. `this` is not a complex number array.");if(n=this._buffer,arguments.length>1){if(!bn(t=arguments[1]))throw new TypeError("invalid argument. Index argument must be a nonnegative integer. Value: `"+t+"`.")}else t=0;if(wn(e)){if(t>=this._length)throw new RangeError("invalid argument. Index argument is out-of-bounds. Value: `"+t+"`.");return n[t*=2]=kn(e),void(n[t+1]=Vn(e))}if(Pn(e)){if(t+(o=e._length)>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e._buffer,f=n.byteOffset+t*Rn,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new An(r.length),l=0;l<r.length;l++)a[l]=r[l];r=a}for(t*=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2}else{if(!hn(e))throw new TypeError("invalid argument. First argument must be either a complex number, an array-like object, or a complex number array. Value: `"+e+"`.");for(o=e.length,l=0;l<o;l++)if(!wn(e[l])){i=!0;break}if(i){if(!dn(o))throw new RangeError("invalid argument. Array-like object arguments must have a length which is a multiple of two. Length: `"+o+"`.");if(t+o/2>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");if(r=e,f=n.byteOffset+t*Rn,r.buffer===n.buffer&&r.byteOffset<f&&r.byteOffset+r.byteLength>f){for(a=new An(o),l=0;l<o;l++)a[l]=r[l];r=a}for(t*=2,o/=2,f=0,l=0;l<o;l++)n[t]=r[f],n[t+1]=r[f+1],t+=2,f+=2;return}if(t+o>this._length)throw new RangeError("invalid arguments. Target array lacks sufficient storage to accommodate source values.");for(t*=2,l=0;l<o;l++)u=e[l],n[t]=kn(u),n[t+1]=Vn(u),t+=2}}});var Nn=J,Cn=Le,In=[Mn,Ut],Yn=["Complex64Array","Complex128Array"];var Gn=function(e){var r,t;if("object"!=typeof e||null===e)return!1;for(t=0;t<In.length;t++)if(e instanceof In[t])return!0;for(;e;){for(r=Nn(e),t=0;t<Yn.length;t++)if(Yn[t]===r)return!0;e=Cn(e)}return!1};export{Gn as default};
//# sourceMappingURL=mod.js.map
